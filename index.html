    <!-- METODOLOGÍA -->
    <section id="metodologia" class="method">
      <div class="container">
        <div class="section-heading">
          <span class="eyebrow">Cómo trabajamos</span>
          <h2>Metodología Opunnence en cuatro movimientos</h2>
        </div>

        <div class="method-steps">
          <article class="method-step">
            <span class="step-number">1</span>
            <h3>Radiografía integral</h3>
            <p>Auditamos SERPs, reseñas y conversaciones sociales.</p>
          </article>

          <article class="method-step">
            <span class="step-number">2</span>
            <h3>Diseño de narrativa</h3>
            <p>Mensajes, spokespeople y despliegue.</p>
          </article>

          <article class="method-step">
            <span class="step-number">3</span>
            <h3>Activación multicanal</h3>
            <p>Contenido propio, earned media y aliados.</p>
          </article>

          <article class="method-step">
            <span class="step-number">4</span>
            <h3>Monitorización y optimización</h3>
            <p>Seguimiento continuo, reporting y mejora.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- CASOS -->
    <section id="casos" class="cases">
      <div class="container">
        <div class="section-heading">
          <span class="eyebrow">Casos recientes</span>
          <h2>Resultados tangibles</h2>
        </div>

        <div class="case-grid">
          <article class="case-card">
            <div class="case-tag">Fintech B2C</div>
            <h3>De crisis reputacional a crecimiento</h3>
            <p>Reposicionamiento con activos, SEO y respuestas coordinadas.</p>
            <ul>
              <li>+63% menciones positivas</li>
              <li>Top 5 posiciones</li>
              <li>SLA &lt; 4h en reseñas</li>
            </ul>
          </article>

          <article class="case-card">
            <div class="case-tag">Salud privada</div>
            <h3>Clínicas multilocales</h3>
            <p>Mejora de percepción y conversión.</p>
            <ul>
              <li>4,8★ en Google Business</li>
              <li>Encuestas automatizadas</li>
              <li>Reporting centralizado</li>
            </ul>
          </article>

          <article class="case-card">
            <div class="case-tag">Energía</div>
            <h3>Lanzamiento sostenible</h3>
            <p>Narrativa, spokespeople y presencia en medios.</p>
            <ul>
              <li>Top 3 keywords</li>
              <li>+40% leads</li>
              <li>Cobertura positiva</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- STACK -->
    <section class="stack">
      <div class="container stack-inner">
        <div class="stack-copy">
          <span class="eyebrow">Tecnología y humanos</span>
          <h2>Plataforma + partners</h2>
          <p>Integraciones y modelos propios para visualizar riesgos y oportunidades.</p>
        </div>

        <ul class="stack-list">
          <li><i class="fas fa-chart-pie"></i> Search Console, GSC API, Looker</li>
          <li><i class="fas fa-headset"></i> Zendesk, Freshdesk, Intercom</li>
          <li><i class="fas fa-microchip"></i> NLP propietarios, GPT-4o</li>
          <li><i class="fas fa-earth-europe"></i> Brandwatch, Talkwalker</li>
          <li><i class="fas fa-handshake"></i> Red editorial especializada</li>
        </ul>
      </div>
    </section>

    <!-- TESTIMONIOS -->
    <section id="clientes" class="testimonials">
      <div class="container">
        <div class="section-heading">
          <span class="eyebrow">Confían en Opunnence</span>
          <h2>Historias reales</h2>
        </div>

        <div class="testimonial-grid">
          <article class="testimonial-card">
            <p class="quote">“Hoja de ruta clara y anticipación.”</p>
            <p class="author">Laura · Retail Europa</p>
          </article>

          <article class="testimonial-card">
            <p class="quote">“Integración impecable entre sedes.”</p>
            <p class="author">Ignacio · Salud Latam</p>
          </article>

          <article class="testimonial-card">
            <p class="quote">“Contuvimos la crisis en 48 horas.”</p>
            <p class="author">Marta · Fintech España</p>
          </article>
        </div>
      </div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto" class="cta">
      <div class="container cta-inner">
        <div class="cta-copy">
          <span class="eyebrow">Hablemos</span>
          <h2>Diagnóstico en 48 horas</h2>
          <p>Cuéntanos qué necesitas y te preparamos un roadmap.</p>
        </div>

        <form id="contact-form" class="cta-form" data-api-base="https://opunnence-api.onrender.com">
          <label><span>Nombre y apellido</span><input type="text" name="name" required /></label>
          <label><span>Correo corporativo</span><input type="email" name="email" required /></label>
          <label><span>Rol / área</span><input type="text" name="role" /></label>
          <label><span>Mensaje</span><textarea name="message" rows="4"></textarea></label>

          <button type="submit" class="btn btn-primary">Quiero mi diagnóstico</button>

          <p class="form-status" role="status"></p>
          <p class="form-disclaimer">Al enviar aceptas comunicaciones relevantes.</p>
        </form>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer-top">
      <div class="footer-brand">
        <h3>Opunnence</h3>
        <p>Ingeniería de reputación online con IA y especialistas.</p>
        <div class="social">
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
          <a href="#"><i class="fab fa-x-twitter"></i></a>
          <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
      </div>

      <div class="footer-links">
        <h4>Mapa del sitio</h4>
        <ul>
          <li><a href="#servicios">Servicios</a></li>
          <li><a href="#metodologia">Metodología</a></li>
          <li><a href="#casos">Casos</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
      </div>

      <div class="footer-contact">
        <h4>Contacto</h4>
        <address>
          Castelldefels, Barcelona<br />
          contacto@opunnence.com<br />
          +34 935 258 412
        </address>
        <p class="legal-link"><a href="#">Aviso legal y privacidad</a></p>
      </div>
    </div>

    <div class="container footer-bottom">
      <p>© 2025 Opunnence. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- SCRIPTS DEL SITIO -->
  <script>
    /* Tu script completo sin modificar */
    window.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('contact-form');

      if (form) {
        const statusNode = form.querySelector('.form-status');
        const submitButton = form.querySelector('button[type="submit"]');
        if (statusNode) statusNode.style.display = 'none';

        const setButtonState = (isSubmitting) => {
          if (!submitButton) return;
          if (isSubmitting) {
            submitButton.dataset.originalText = submitButton.textContent;
            submitButton.textContent = 'Enviando...';
            submitButton.disabled = true;
          } else {
            submitButton.textContent = submitButton.dataset.originalText || 'Quiero mi diagnóstico';
            submitButton.disabled = false;
          }
        };

        const showStatus = (message, tone = 'info') => {
          if (!statusNode) return;
          statusNode.textContent = message;
          statusNode.style.display = 'block';
          statusNode.style.color = tone === 'success' ? '#0b7a3e' : tone === 'error' ? '#b00020' : '#333';
        };

        const sanitize = (value) => (typeof value === 'string' ? value.trim() : '');
        const getApiBaseUrl = () => {
          const configured = (form.dataset.apiBase || window.OPUNNENCE_API_BASE_URL || '').trim();
          if (configured) return configured.replace(/\/$/, '');
          return window.location.origin.replace(/\/$/, '');
        };

        form.addEventListener('submit', async (event) => {
          event.preventDefault();
          const formData = new FormData(form);

          const payload = {
            name: sanitize(formData.get('name')),
            email: sanitize(formData.get('email')),
            role: sanitize(formData.get('role')) || null,
            message: sanitize(formData.get('message')) || null,
          };

          if (!payload.name || !payload.email) {
            showStatus('Por favor completa tu nombre y correo corporativo.', 'error');
            return;
          }

          setButtonState(true);
          showStatus('Enviando tu solicitud...', 'info');

          try {
            const response = await fetch(`${getApiBaseUrl()}/contact`, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(payload),
            });

            if (!response.ok) {
              const errorBody = await response.json().catch(() => ({}));
              const detail = errorBody?.detail || 'Error al enviar. Intenta más tarde.';
              throw new Error(Array.isArray(detail) ? detail.join(' ') : detail);
            }

            form.reset();
            showStatus('¡Gracias! Te contactaremos pronto.', 'success');
          } catch (error) {
            showStatus(error.message || 'Error inesperado.', 'error');
          } finally {
            setButtonState(false);
          }
        });
      }

      const header = document.querySelector('.header');
      if (!header) return;

      const navToggle = document.querySelector('.nav-toggle');
      const nav = document.getElementById('site-nav');

      const closeNav = () => {
        if (!navToggle || !nav) return;
        nav.classList.remove('is-open');
        navToggle.classList.remove('is-active');
        navToggle.setAttribute('aria-expanded', 'false');
        document.body.classList.remove('nav-open');
      };

      const toggleNav = () => {
        if (!navToggle || !nav) return;
        const expanded = navToggle.getAttribute('aria-expanded') === 'true';
        const shouldOpen = !expanded;
        navToggle.setAttribute('aria-expanded', shouldOpen.toString());
        navToggle.classList.toggle('is-active', shouldOpen);
        nav.classList.toggle('is-open', shouldOpen);
        document.body.classList.toggle('nav-open', shouldOpen);
      };

      if (navToggle && nav) {
        navToggle.addEventListener('click', (event) => {
          event.stopPropagation();
          toggleNav();
        });

        nav.querySelectorAll('a').forEach((link) => link.addEventListener('click', closeNav));

        document.addEventListener('click', (event) => {
          if (!nav.classList.contains('is-open')) return;
          if (!event.target.closest('.header')) closeNav();
        });

        document.addEventListener('keydown', (event) => {
          if (event.key === 'Escape') closeNav();
        });
      }

      let lastScrollY = window.scrollY;
      let isTicking = false;

      const getHeaderConfig = () => {
        const isCompact = window.innerWidth <= 768;
        return { threshold: isCompact ? 80 : 160, delta: isCompact ? 12 : 24 };
      };

      let { threshold, delta } = getHeaderConfig();

      const updateHeaderVisibility = () => {
        const currentScroll = window.scrollY;

        if (currentScroll > lastScrollY + delta && currentScroll > threshold) {
          header.classList.add('is-hidden');
        } else if (currentScroll < lastScrollY - delta || currentScroll <= 0) {
          header.classList.remove('is-hidden');
        }

        lastScrollY = currentScroll;
      };

      const onScroll = () => {
        if (!isTicking) {
          window.requestAnimationFrame(() => {
            updateHeaderVisibility();
            isTicking = false;
          });
          isTicking = true;
        }
      };

      const handleResize = () => {
        ({ threshold, delta } = getHeaderConfig());
        updateHeaderVisibility();
        if (window.innerWidth > 768) closeNav();
      };

      window.addEventListener('scroll', onScroll, { passive: true });
      window.addEventListener('resize', handleResize);

      handleResize();
    });
  </script>

  <!-- WIDGET OPUNNENCE -->
  <link rel="stylesheet" href="https://widget.opunnence.com/v1/chat-widget.css" />
  <script src="https://widget.opunnence.com/v1/chat-widget.js"></script>
  <script>
    window.OpunnenceWidget.init({
      apiUrl: "https://api.opunnence.com",
      tenantTheme: "default",
      language: "es",
      startOpen: false
    });
  </script>

</body>
</html>
